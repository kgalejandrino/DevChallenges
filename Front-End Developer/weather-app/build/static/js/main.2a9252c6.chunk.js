(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(43),i=a.n(s),r=(a(82),a(76)),l=a(30),o=a.n(l),h=a(44),d=a(45),j=a(46),u=a(77),b=a(75),p=a(14),m=a.n(p),g=(a(102),a(25));a(103),a(104);function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,a){navigator.geolocation.getCurrentPosition(t,a,e)}))}var v={sn:"https://github.com/kgalejandrino/DevChallenges/blob/main/Front-End%20Developer/weather-app/src/assets/Snow.png?raw=true",sl:"https://github.com/kgalejandrino/DevChallenges/blob/main/Front-End%20Developer/weather-app/src/assets/Sleet.png?raw=true",h:"https://github.com/kgalejandrino/DevChallenges/blob/main/Front-End%20Developer/weather-app/src/assets/Hail.png?raw=true",t:"https://github.com/kgalejandrino/DevChallenges/blob/main/Front-End%20Developer/weather-app/src/assets/Hail.png?raw=true",hr:"https://github.com/kgalejandrino/DevChallenges/blob/main/Front-End%20Developer/weather-app/src/assets/HeavyRain.png?raw=true",lr:"https://github.com/kgalejandrino/DevChallenges/blob/main/Front-End%20Developer/weather-app/src/assets/LightRain.png?raw=true",s:"https://github.com/kgalejandrino/DevChallenges/blob/main/Front-End%20Developer/weather-app/src/assets/Shower.png?raw=true",hc:"https://github.com/kgalejandrino/DevChallenges/blob/main/Front-End%20Developer/weather-app/src/assets/HeavyCloud.png?raw=true",lc:"https://github.com/kgalejandrino/DevChallenges/blob/main/Front-End%20Developer/weather-app/src/assets/LightCloud.png?raw=true",c:"https://github.com/kgalejandrino/DevChallenges/blob/main/Front-End%20Developer/weather-app/src/assets/Clear.png?raw=true"},O=["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],w=function(e){var t=new Date(e),a=t.getUTCDay(),c=t.getUTCDate(),n=t.getUTCMonth();return"".concat(O[a],", ").concat(c," ").concat(f[n])},S=function(e){return Math.floor(1.8*e+32)},N=a(0),C=function(e){var t={};e.data&&(t=e.data);var a=Math.floor(t.the_temp).toString(),c="C";return"farenheight"===e.tempScale&&(a=S(Math.floor(t.the_temp).toString()),c="F"),Object(N.jsxs)("div",{className:"CurrentWeather",children:[Object(N.jsxs)("div",{className:"cur_box1",children:[Object(N.jsx)("div",{className:"box1--search",onClick:e.clicked,children:"Search for places"}),Object(N.jsx)("div",{className:"box1--icon",onClick:e.request,children:Object(N.jsx)("span",{className:"material-icons",children:"my_location"})})]}),Object(N.jsxs)("div",{className:"cur_box2",children:[Object(N.jsx)("div",{className:"bground"}),Object(N.jsx)("div",{className:"current_image",children:Object(N.jsx)("img",{src:v[t.weather_state_abbr],alt:"Shower"})}),Object(N.jsxs)("div",{className:"current_temp",children:[Object(N.jsx)("span",{className:"temp",children:a}),Object(N.jsx)("span",{className:"material-icons cur-temp--icon",children:"radio_button_unchecked"}),Object(N.jsx)("span",{className:"cur-temp--type",children:c})]}),Object(N.jsx)("div",{className:"current_description",children:t.weather_state_name}),Object(N.jsxs)("div",{className:"current_date",children:[Object(N.jsx)("span",{className:"today",children:"Today"}),Object(N.jsx)("span",{className:"material-icons dot",children:"fiber_manual_record"}),Object(N.jsx)("span",{className:"date-today",children:w(t.applicable_date)})]}),Object(N.jsxs)("div",{className:"current_location",children:[Object(N.jsx)("span",{className:"material-icons cur-loc--icon",children:"location_on"}),Object(N.jsx)("span",{className:"cur-loc--name",children:e.location})]})]})]})},_=(a(106),a(24)),k=(a(107),function(e){var t=Object(c.useState)(!1),a=Object(_.a)(t,2),n=a[0],s=a[1],i=function(){s((function(e){return!e}))};return e.input?Object(N.jsxs)("div",{className:"FilterSearch",onMouseEnter:i,onMouseLeave:i,onClick:function(){return e.getWeather(e.id)},children:[Object(N.jsx)("span",{className:"filter-location",children:e.location}),n?Object(N.jsx)("span",{className:"material-icons filter-icon",children:"navigate_next"}):null]}):null}),y=function(e){return Object(N.jsxs)("div",{className:"SearchBar",style:e.search?{transform:"translateX(0)"}:{transform:"translateX(-100%)"},children:[Object(N.jsxs)("div",{className:"search_box",children:[Object(N.jsx)("span",{className:"material-icons close-icon",onClick:e.closed,children:"close"}),Object(N.jsxs)("div",{className:"search",children:[Object(N.jsx)("span",{className:"material-icons search-icon",children:"search"}),Object(N.jsx)("input",{type:"text",className:"search-input",placeholder:"search location",onChange:e.changed,value:e.input}),Object(N.jsx)("button",{className:"btn-search",onClick:e.searched,children:"Search"})]})]}),Object(N.jsx)("div",{className:"filter_box",children:e.error?Object(N.jsx)("div",{className:"error",children:"Search Not Found. Please Enter a valid city."}):e.filtered.map((function(t,a){return Object(N.jsx)(k,{location:t.title,id:t.woeid,getWeather:e.getWeather,input:e.input},a)}))})]})},D=Object(g.a)((function(e){return Object(N.jsxs)("div",{className:"Sidebar",children:[Object(N.jsx)(y,{search:e.search,searched:e.searched,closed:e.closed,changed:e.changed,filtered:e.filtered,input:e.input,getWeather:e.getWeather,error:e.error}),Object(N.jsx)(C,{clicked:e.clicked,data:e.data,location:e.location,tempScale:e.tempScale,request:e.request})]})})),F=(a(119),a(120),function(e){var t=Object(c.useState)(!0),a=Object(_.a)(t,2),n=a[0],s=a[1];return Object(N.jsxs)("div",{className:"TempScale",children:[Object(N.jsxs)("div",{className:n?"scale_box active":"scale_box",onClick:function(){s(!0),e.getScale(!0)},children:[Object(N.jsx)("span",{className:"material-icons icon-scale",children:"radio_button_unchecked"}),Object(N.jsx)("span",{className:"temp-scale",children:"C"})]}),Object(N.jsxs)("div",{className:n?"scale_box":"scale_box active",onClick:function(){s(!1),e.getScale(!1)},children:[Object(N.jsx)("span",{className:"material-icons icon-scale",children:"radio_button_unchecked"}),Object(N.jsx)("span",{className:"temp-scale",children:"F"})]})]})}),W=(a(121),function(e){var t=Math.floor(e.max).toString(),a=Math.floor(e.min).toString(),c="C";return"farenheight"===e.tempScale&&(t=S(Math.floor(e.max).toString()),a=S(Math.floor(e.min).toString()),c="F"),Object(N.jsxs)("div",{className:"WeeklyWeather",children:[Object(N.jsx)("p",{children:e.date}),Object(N.jsx)("img",{src:v[e.state],alt:"Weather State",className:"weekly-state-img"}),Object(N.jsxs)("div",{className:"min-max_box",children:[Object(N.jsxs)("div",{className:"max-temp",children:[Object(N.jsx)("span",{children:t}),Object(N.jsx)("span",{className:"material-icons icon-scale",children:"radio_button_unchecked"}),Object(N.jsx)("span",{children:c})]}),Object(N.jsxs)("div",{className:"min-temp",children:[Object(N.jsx)("span",{children:a}),Object(N.jsx)("span",{className:"material-icons icon-scale",children:"radio_button_unchecked"}),Object(N.jsx)("span",{children:c})]})]})]})}),M=(a(122),a(123),function(e){var t={};return"Visibility"!==e.title&&"Air Pressure"!==e.title||(t={marginRight:"8px"}),Object(N.jsxs)("div",{className:"highlight",children:[Object(N.jsx)("p",{children:e.title}),Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{className:"value",style:t,children:e.value}),Object(N.jsx)("span",{className:"unit",children:e.unit})]}),e.children]})}),E=function(e){var t={};return e.highlights&&(t=e.highlights),Object(N.jsxs)("div",{className:"Highlights",children:[Object(N.jsx)("h2",{children:"Today's Highlights"}),Object(N.jsxs)("div",{className:"highlight_cards",children:[Object(N.jsx)(M,{title:"Wind Status",unit:"mph",value:Math.floor(t.wind_speed).toString(),children:Object(N.jsxs)("div",{className:"card-direction",children:[Object(N.jsx)("span",{className:"material-icons icon-wind",style:{transform:"rotate(".concat(Math.floor(t.wind_direction).toString(),"deg)")},children:"navigation"}),Object(N.jsx)("span",{className:"direction",children:t.wind_direction_compass})]})}),Object(N.jsx)(M,{title:"Humidity",unit:"%",value:t.humidity,children:Object(N.jsxs)("div",{className:"card-humidity",children:[Object(N.jsxs)("div",{className:"humidity-percentage",children:[Object(N.jsx)("span",{children:"0"}),Object(N.jsx)("span",{children:"50"}),Object(N.jsx)("span",{children:"100"})]}),Object(N.jsx)("div",{className:"humidity-bar bar",children:Object(N.jsx)("div",{className:"bar-percentage bar",style:{width:"".concat(t.humidity,"px")}})}),Object(N.jsx)("div",{className:"percentage-sign",children:"%"})]})}),Object(N.jsx)(M,{title:"Visibility",unit:"miles",value:t.visibility?t.visibility.toFixed(1).toString().replace(".",","):""}),Object(N.jsx)(M,{title:"Air Pressure",unit:"mb",value:Math.floor(t.air_pressure).toString()})]})]})},L=function(e){var t=[];return e.data&&(t=e.data.slice(1)),Object(N.jsxs)("div",{className:"Main",children:[Object(N.jsxs)("div",{className:"main-wrapper",children:[Object(N.jsx)(F,{getScale:e.getScale}),Object(N.jsx)("div",{className:"weekly",children:t.map((function(t,a){return Object(N.jsx)(W,{date:0===a?"Tomorrow":w(t.applicable_date),state:t.weather_state_abbr,max:t.max_temp,min:t.min_temp,tempScale:e.tempScale},a)}))}),Object(N.jsx)(E,{highlights:e.highlights})]}),Object(N.jsxs)("footer",{children:[Object(N.jsx)("span",{children:"created by"}),Object(N.jsx)("a",{href:"https://github.com/kgalejandrino",children:"Kevin Alejandrino"}),Object(N.jsxs)("span",{children:["- ",Object(N.jsx)("a",{href:"https://devchallenges.io/",target:"_blank",rel:"noreferrer",children:"devChallenges.io"})]})]})]})},T=(a(124),function(){return Object(N.jsxs)("div",{class:"spinner",children:[Object(N.jsx)("div",{class:"cube1"}),Object(N.jsx)("div",{class:"cube2"})]})}),H=function(e){return e.children},q=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var c;return Object(d.a)(this,a),(c=t.call(this,e)).enterSearchFunction=function(e){c.state.search&&13===e.keyCode&&c.handleSearchedClicked()},c.fetchCoordinates=Object(h.a)(o.a.mark((function e(){var t,a,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:t=e.sent,a=t.coords,n=a.latitude,s=a.longitude,c.fetchDataWithLongLat(n.toFixed(2),s.toFixed(2)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),c.fetchDataWithLongLat=function(e,t){m.a.get("https://api.allorigins.win/raw?url=https://www.metaweather.com/api/location/search/?lattlong=".concat(e,",").concat(t)).then((function(e){var t=e.data[0];return c.fetchDatawithWoeid(t.woeid)}))},c.fetchDatawithWoeid=function(e){m.a.get("https://api.allorigins.win/raw?url=https://www.metaweather.com/api/location/".concat(e,"/")).then((function(e){c.setState({data:e.data.consolidated_weather,location:e.data.title})})).catch((function(e){alert(e),console.log(e)}))},c.handleSearchOpenClicked=function(){return c.setState({search:!0})},c.handleSearchClosedClicked=function(){return c.setState({search:!1})},c.handleInputChange=function(e){return c.setState({input:e.target.value})},c.handleSearchedClicked=function(){c.setState({loading:!0}),m.a.get("https://api.allorigins.win/raw?url=https://www.metaweather.com/api/location/search/?query=".concat(c.state.input)).then((function(e){e.data.length?c.setState({filteredSearch:Object(r.a)(e.data),error:!1,loading:!1}):c.setState({error:!0})})).catch((function(e){alert(e),console.log(e)}))},c.handleGetWeather=function(e){c.setState({search:!1,input:"",filteredSearch:[]}),c.fetchDatawithWoeid(e)},c.handleGetTempScale=function(e){e?c.setState({activeScale:"celsius"}):c.setState({activeScale:"farenheight"})},c.handleRequestCurLocation=function(){c.fetchCoordinates()},c.state={search:!1,data:[],location:"Helsinki",input:"",woeid:565346,activeScale:"celsius",filteredSearch:[],error:!1,loading:!1},c}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),m.a.get("https://api.allorigins.win/raw?url=https://www.metaweather.com/api/location/".concat(this.state.woeid,"/")).then((function(t){e.setState({data:t.data.consolidated_weather,location:t.data.title,loading:!1})})).catch((function(e){alert(e),console.log(e)})),this.fetchCoordinates(),document.addEventListener("keydown",this.enterSearchFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.enterSearchFunction,!1)}},{key:"render",value:function(){return Object(N.jsx)("div",{className:"Weather",children:this.state.loading&&!this.state.data[0]?Object(N.jsx)(T,{}):Object(N.jsxs)(H,{children:[Object(N.jsx)(D,{clicked:this.handleSearchOpenClicked,closed:this.handleSearchClosedClicked,searched:this.handleSearchedClicked,input:this.state.input,data:this.state.data[0],location:this.state.location,search:this.state.search,changed:this.handleInputChange,filtered:this.state.filteredSearch,error:this.state.error,getWeather:this.handleGetWeather,tempScale:this.state.activeScale,request:this.handleRequestCurLocation}),Object(N.jsx)(L,{data:this.state.data,highlights:this.state.data[0],getScale:this.handleGetTempScale,tempScale:this.state.activeScale})]})})}}]),a}(c.Component),P=a(29);var A=Object(g.a)((function(){return Object(N.jsx)(P.a,{children:Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(q,{})})})})),J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,126)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))};i.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(A,{})}),document.getElementById("root")),J()},82:function(e,t,a){}},[[125,1,2]]]);
//# sourceMappingURL=main.2a9252c6.chunk.js.map